<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="mybooke">
  
  <!-- 회원가입 아이디, 비번, 이메일-->
<insert id="signup">
 insert into be_member(BE_NO, BE_ID, BE_PW, BE_NN, BE_NAME, BE_ADDR, BE_PHONE, BE_EMAIL, BE_ENABLED, BE_ROLE)
  values(m_noseq.nextval, #{be_id}, 
     #{be_pw}, 
     #{be_nn}, <!-- 닉네임 -->
     #{be_name}, 
     #{be_addr}, <!-- 주소-->
     #{be_phone}, 
     #{be_email}, 
     'Y', 'L1')
</insert>
<!-- 아이디 중복 체크  -->
<select id="signuppage_idchk" parameterType="memberDto" resultType="int">
  SELECT COUNT(*) FROM BE_MEMBER
	WHERE BE_ID = #{be_id}
	</select>
<!-- 비번 중복 체크  -->
	<!--  <select id="signuppage_pwchk" resultType="int">-->
  <!--SELECT COUNT(*) FROM BE_MEMBER-->
	<!--WHERE BE_PW= #{be_pw}-->
<!--</select>-->
  <select id="login" parameterType="memberDto" resultType="memberDto">
    select * from BE_MEMBER 
    WHERE BE_ID=#{be_id} and BE_PW=#{be_pw}
  </select>
  
  <select id="selectMemberInfo" parameterType="memberDto" resultType="memberDto">
  	SELECT *
  	FROM BE_MEMBER
  	WHERE BE_NO = #{be_no}
  </select>
  
  <update id="updateMemberInfo" parameterType="memberDto">
  	UPDATE BE_MEMBER
  		SET BE_NN = #{be_nn}
  			, BE_ADDR = #{be_addr}
  	WHERE BE_NO = #{be_no}
  </update>
  
  </mapper>